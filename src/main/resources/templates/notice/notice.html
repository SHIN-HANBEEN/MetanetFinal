<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
	<title>MetaBus</title>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css"
		href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
	<!-- Nucleo Icons -->
	<link href="/assets/css/nucleo-icons.css" rel="stylesheet" />
	<link href="/assets/css/nucleo-svg.css" rel="stylesheet" />
	<!-- Font Awesome Icons -->
	<script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
	<!-- Material Icons -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

	<link href="/assets/css/material-kit.css?v=3.0.0" rel="stylesheet" />

	<!-- 커스텀 CSS -->
	<link href="/assets/css/final.css" rel="stylesheet" />
	<link type="text/css" rel="stylesheet" href="/assets/css/seat2.css">

	<!-- KoPub 폰트 -->
	<link rel='stylesheet' href='//cdn.jsdelivr.net/npm/font-kopub@1.0/kopubdotum.min.css'>
	

	<!-- payment form -->
	<!--
		<link rel='stylesheet' href="/assets/css/payment.css" />
	-->

</head>

<body>
	<div th:replace="~{fragments/navbarFragment :: navbar}"></div>
	<!-- Include navbar fragment -->

	<!-- container fluid -->
	<div class="container-fluid">
		<div class="row justify-content-md-center">
			<div class="col-lg-12 metanet-page-header pb-6"
				style="height: 100%; min-height: 100vh; background-image: url('../assets/img/bus.png');">
				<span class="mask bg-gradient-dark opacity-6"></span>


				<div class="container-fluid metanet-mt-24">
					<div class="row" style="text-align: center;">
						<!-- 좌석조회 카드 -->
						<div class="col-lg-12 mb-5" style="z-index: 10;">
							<div class="container bg-body-tertiary rounded-4 mt-n12" style="height: 80vh;">

								<div class="section text-center" id="noticeContent">
									<h2 class="title pb-3 pt-4">공지사항</h2>

									<!-- 공지사항 컨테이너 -->
									<div class="row">
										<div class="col-2">

										</div>

										<div class="col-8">
											<hr class="dark horizontal mt-0 mb-2">
											<table class="table table-hover">
												<thead>
													<tr>
														<th class="col-2" scope="col">공지번호</th>
														<th class="col-8" scope="col">제목</th>
														<th class="col-2" scope="col">작성자</th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<th scope="row">1</th>
														<td>Mark</td>
														<td>Otto</td>
													</tr>
													<tr>
														<th scope="row">2</th>
														<td>Jacob</td>
														<td>Thornton</td>
													</tr>
													<tr>
														<th scope="row">3</th>
														<td>Larry the Bird</td>
														<td>@twitter</td>
													</tr>
												</tbody>
											</table>
										</div>

										<div class="col-2">

										</div>

										<!-- 페이지 번호
										 -->
										<div class="col-2">

										</div>

										<div class="col-8">
											<div class="row">
												<div class="col-3">

												</div>
												<div class="col-6">
													<nav aria-label="Page navigation example">
														<ul class="pagination justify-content-center">
															<li class="page-item mx-2">
																<a class="page-link" href="javascript:;" aria-label="Previous">
																	<i class="fa fa-angle-left"></i>
																	<span class="sr-only">Previous</span>
																</a>
															</li>
															<li class="page-item mx-1">
																<a class="page-link" href="javascript:;">
																	1
																</a>
															</li>
															<li class="page-item mx-1">
																<a class="page-link" href="javascript:;">
																	2</a>
															</li>
															<li class="page-item mx-1">
																<a class="page-link" href="javascript:;">
																	3</a>
															</li>
															<li class="page-item mx-1">
																<a class="page-link" href="javascript:;">
																	4</a>
															</li>
															<li class="page-item mx-1">
																<a class="page-link" href="javascript:;">
																	5</a>
															</li>
															<li class="page-item mx-2">
																<a class="page-link" href="javascript:;" aria-label="Next">
																	<i class="fa fa-angle-right"></i>
																	<span class="sr-only">Next</span>
																</a>
															</li>
														</ul>
													</nav>
												</div>
												<div class="col-3" sec:authorize="hasRole('ADMIN')">
													<div class="row">
														<div class="col-6">

														</div>
														<div class="col-6 p-0 m-0">
															<button type="button" id="noticeRegisterButton" class="btn btn-sm bg-gradient-info"
																style="font-size: 80%; position: relative; left: -10%;">
																공지등록
															</button>
														</div>
													</div>
												</div>
											</div>

										</div>

										<div class="col-2">

										</div>

									</div>


								</div>
							</div>




						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
<!-- 메타넷 final js -->
	<script src="/assets/js/final.js" type="text/javascript"></script>
	<script src="/assets/js/nav.js" type="text/javascript"></script>
	<!-- SweetAlert -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.css">
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.js"></script>



































	<!-- footer -->
	<!-- Include footer fragment -->
	<div th:replace="~{fragments/footerFragment :: footer}"></div>

	<!--   Core JS Files   -->
	<script src="/assets/js/core/popper.min.js" type="text/javascript"></script>
	<script src="/assets/js/core/bootstrap.min.js" type="text/javascript"></script>
	<script src="/assets/js/plugins/perfect-scrollbar.min.js"></script>

	<!--  Plugin for TypedJS, full documentation here: https://github.com/inorganik/CountUp.js -->
	<script src="/assets/js/plugins/countup.min.js"></script>
	<script src="/assets/js/plugins/choices.min.js"></script>
	<script src="/assets/js/plugins/prism.min.js"></script>
	<script src="/assets/js/plugins/highlight.min.js"></script>

	<!--  Plugin for Parallax, full documentation here: https://github.com/dixonandmoe/rellax -->
	<script src="/assets/js/plugins/rellax.min.js"></script>

	<!--  Plugin for TiltJS, full documentation here: https://gijsroge.github.io/tilt.js/ -->
	<script src="/assets/js/plugins/tilt.min.js"></script>

	<!--  Plugin for Selectpicker - ChoicesJS, full documentation here: https://github.com/jshjohnson/Choices -->
	<script src="/assets/js/plugins/choices.min.js"></script>
	<script src="/assets/js/material-kit.min.js?v=3.0.4" type="text/javascript"></script>
	<!-- 메타넷 final js -->
	<!--<script src="/assets/js/final.js" type="text/javascript"></script>-->
	<!-- jQuery js -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<!-- iamport.payment.js -->
	<script src="https://cdn.iamport.kr/v1/iamport.js"></script>


	<script>
		/*
			페이지 로딩 된 다음에 실행해야 하는 것들
		*/
		$(document).ready(function () {
			/* xhr 로 교체함
			const noticeRegisterBtn = document.getElementById('noticeRegisterButton');
			const noticeContent = document.getElementById('noticeContent');

			noticeRegisterBtn.addEventListener('click', function () {
				console.log('noticeBtn이 클릭되었습니다');
				$.ajax({
					url: '/notice/register',
					method: 'GET',
					dataType: 'html', // Corrected dataType
					success: function (response) {
						console.log('response 에요 : ' + response);
						
						if (response) {
							$(noticeContent).html(response);
						} else {
							console.error('공지 작성을 위한 htmlcontent 가 없어요');
						}
					},
					error: function (error) {
						console.error('공지 작성 가져오다 오류가 발생했어요', error);
					}
				});
			});
			*/

		});
		/*
			document.ready 끝나는 지점
		*/



		document.addEventListener('DOMContentLoaded', function () {
			const noticeRegisterBtn = document.getElementById('noticeRegisterButton');
			const noticeContent = document.getElementById('noticeContent');

			console.log('dom 읽기가 완료되었어요.');

			noticeRegisterBtn.addEventListener('click', function () {
				console.log('noticeBtn이 클릭되었습니다');

				const xhr = new XMLHttpRequest();

				xhr.open('GET', '/notice/register', true);

				xhr.onload = function () {
					if (xhr.status === 200) {
						console.log('response 에요 : ' + xhr.responseText);
						noticeContent.innerHTML = xhr.responseText
						//noticeContent.innerHTML = '<h2>dnslkndlkf</h2>'+xhr.responseText;	
						if (xhr.responseText) {
							
						} else {
							console.error('공지 작성을 위한 htmlcontent 가 없어요');
						}
					} else {
						console.error('공지 작성 가져오다 오류가 발생했어요', xhr.status, xhr.statusText);
					}
				};

				xhr.onerror = function () {
					console.error('통신 중 에러가 발생했어요');
				};

				xhr.send();
			});
		});

	</script>

	<!--   Core JS Files   -->
	<!-- <script src="/assets/js/core/popper.min.js" type="text/javascript"></script>
    <script src="/assets/js/core/bootstrap.min.js" type="text/javascript"></script>
    <script src="/assets/js/plugins/perfect-scrollbar.min.js" type="text/javascript"></script>
    <script src="/assets/js/plugins/moment.min.js"></script>

    <script src="/assets/js/material-kit.min.js" type="text/javascript"></script> -->
</body>

</html>